{"version":3,"file":"static/js/162.9b324d8b.chunk.js","mappings":"+LACA,EAAuB,6BAAvB,EAA4D,8BAA5D,EAAkG,8B,oBCK5FA,EAAgB,CAAEC,KAAM,GAAIC,MAAO,GAAIC,SAAU,IAE1CC,EAAiB,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,gBACvCC,GAAWC,EAAAA,EAAAA,MAMjB,OACE,SAAC,KAAD,CACER,cAAeA,EACfS,SACwB,cAAtBF,EAASG,SAA2BJ,EAAkBD,EAH1D,UAME,UAAC,KAAD,CAAMM,UAAWC,EAAjB,UACyB,cAAtBL,EAASG,WACR,iCACE,kBAAOG,QAAQ,OAAOF,UAAWC,EAAjC,SAA+C,UAG/C,SAAC,KAAD,CACED,UAAWC,EACXE,KAAK,OACLb,KAAK,OACLc,QAAQ,yCACRC,UAAU,IACVC,MAAM,qJAKZ,kBAAOJ,QAAQ,QAAQF,UAAWC,EAAlC,SAAgD,WAGhD,SAAC,KAAD,CACED,UAAWC,EACXE,KAAK,QACLb,KAAK,QACLc,QAAQ,gCACRE,MAAM,kGAGR,kBAAOJ,QAAQ,WAAWF,UAAWC,EAArC,SAAmD,cAGnD,SAAC,KAAD,CACED,UAAWC,EACXE,KAAK,WACLb,KAAK,WACLc,QAAQ,2BACRC,UAAU,IACVC,MAAM,qEAGR,SAACC,EAAA,EAAD,CAAQC,QAnDd,WAEC,EAiDK,SACyB,cAAtBZ,EAASG,SAA2B,UAAY,eAK1D,C,qCCpDD,IAdqB,SAAC,GAAe,IAAD,IAAZU,EAAY,EAAZA,MACD,MAAjBA,EAAMC,QAAmBD,EAAME,KAAKC,SAId,QAAjB,OAALH,QAAK,IAALA,GAAA,UAAAA,EAAOE,YAAP,eAAaE,OACfC,EAAAA,GAAAA,MAAY,sBAEO,MAAjBL,EAAMC,QAAwC,QAAjB,OAALD,QAAK,IAALA,GAAA,UAAAA,EAAOE,YAAP,eAAaE,OACvCC,EAAAA,GAAAA,MAAY,oBAPZA,EAAAA,GAAAA,MAAY,8BAUf,C,+ICgBD,UAvBc,WACZ,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,YAAgBC,EAAhB,EAAgBA,UAAWV,EAA3B,EAA2BA,MAErBf,EAAY,mCAAG,WAAM0B,GAAN,0FAEXF,EAAME,GAAQC,MAAK,SAAAC,GAAQ,IAAD,EAC9BP,GAASQ,EAAAA,EAAAA,IAAQ,OAACD,QAAD,IAACA,GAAD,UAACA,EAAKX,YAAN,aAAC,EAAWa,OAC9B,IAJgB,sDAMjBC,QAAQC,IAAR,MANiB,wDAAH,sDAUlB,OACE,gCACGjB,IAAS,SAAC,IAAD,CAAcA,MAAOA,IAC9BU,IAAa,SAAC,IAAD,KACd,SAAC,IAAD,CAAgBzB,aAAcA,MAGnC,C","sources":["webpack://react-homework-template/./src/components/CredentialForm/CredentialForm.module.css?aeb7","components/CredentialForm/CredentialForm.js","components/ErrorMessage/ErrorMessage.js","pages/Login/Login.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"CredentialForm_form__cMEDX\",\"label\":\"CredentialForm_label__q4egQ\",\"input\":\"CredentialForm_input__UKqbI\"};","import { Formik, Form, Field } from 'formik';\nimport { Button } from 'components/Button/Button';\nimport styles from './CredentialForm.module.css';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst initialValues = { name: '', email: '', password: '' };\n\nexport const CredentialForm = ({ loginHandler, registerHandler }) => {\n  const location = useLocation();\n\n  function dummyClick() {\n    return;\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={\n        location.pathname === '/register' ? registerHandler : loginHandler\n      }\n    >\n      <Form className={styles.form}>\n        {location.pathname === '/register' && (\n          <>\n            <label htmlFor=\"name\" className={styles.label}>\n              Name\n            </label>\n            <Field\n              className={styles.input}\n              type=\"text\"\n              name=\"name\"\n              pattern=\"['a-zA-Z\\u0400-\\u04ff0-9\\s\\W+\\.]+\"\n              minLength=\"2\"\n              title=\"Name may contain only letters, apostrophe, dash, dots and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            />\n          </>\n        )}\n\n        <label htmlFor=\"email\" className={styles.label}>\n          Email\n        </label>\n        <Field\n          className={styles.input}\n          type=\"email\"\n          name=\"email\"\n          pattern=\"^([^ ]+@[^ ]+\\.[a-z]{2,6}|)$\"\n          title=\"E-mail may contain only letters, digits, At sign and dot. For example JacobMercer2@gmail.com\"\n        />\n\n        <label htmlFor=\"password\" className={styles.label}>\n          Password\n        </label>\n        <Field\n          className={styles.input}\n          type=\"password\"\n          name=\"password\"\n          pattern=\"['a-zA-Z\\d\\s\\W+\\.]+.\"\n          minLength=\"6\"\n          title=\"Password number may contain letters, digits, spaces and symbols\"\n        />\n\n        <Button onClick={dummyClick}>\n          {location.pathname === '/register' ? 'Sign Up' : 'Log In'}\n        </Button>\n      </Form>\n    </Formik>\n  );\n};\n\nCredentialForm.propTypes = {\n  loginHandler: PropTypes.func,\n  registerHandler: PropTypes.func,\n};\n","import toast from 'react-hot-toast';\n\nconst ErrorMessage = ({ error }) => {\n  if (error.status === 400 && !error.data.message) {\n    toast.error('E-mail and password not fit');\n    return;\n  }\n  if (error?.data?.code === 11000) {\n    toast.error('Your access denied');\n  }\n  if (error.status === 400 && error?.data?.code !== 11000) {\n    toast.error('Fill all fields');\n    return;\n  }\n};\n\nexport default ErrorMessage;\n","import { useDispatch } from 'react-redux';\nimport { setToken } from 'redux/auth/tokenSlice';\nimport Loader from 'components/Loader/Loader';\nimport { CredentialForm } from 'components/CredentialForm/CredentialForm';\nimport { useLoginMutation } from 'redux/auth/authSlice';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const [login, { isLoading, error }] = useLoginMutation();\n\n  const loginHandler = async values => {\n    try {\n      await login(values).then(res => {\n        dispatch(setToken(res?.data?.token));\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      {error && <ErrorMessage error={error} />}\n      {isLoading && <Loader />}\n      <CredentialForm loginHandler={loginHandler} />\n    </>\n  );\n};\n\nexport default Login;\n"],"names":["initialValues","name","email","password","CredentialForm","loginHandler","registerHandler","location","useLocation","onSubmit","pathname","className","styles","htmlFor","type","pattern","minLength","title","Button","onClick","error","status","data","message","code","toast","dispatch","useDispatch","useLoginMutation","login","isLoading","values","then","res","setToken","token","console","log"],"sourceRoot":""}