{"version":3,"file":"static/js/162.4f0c963d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/CredentialForm/CredentialForm.module.css?aeb7","components/CredentialForm/CredentialForm.js","components/ErrorMessage/ErrorMessage.js","pages/Login/Login.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"credential_form\":\"CredentialForm_credential_form__fsrFe\",\"form_btn_container\":\"CredentialForm_form_btn_container__RXcWi\"};","import { Formik, Form, Field } from 'formik';\nimport { Button } from 'components/Button/Button';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './CredentialForm.module.css';\n\nconst initialValues = { name: '', email: '', password: '' };\n\nexport const CredentialForm = ({ loginHandler, registerHandler }) => {\n  const location = useLocation();\n\n  function dummyClick() {\n    return;\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={\n        location.pathname === '/register' ? registerHandler : loginHandler\n      }\n    >\n      <Form className={styles.credential_form}>\n        {location.pathname === '/register' && (\n          <>\n            <label htmlFor=\"name\">Name:</label>\n            <Field\n              type=\"text\"\n              name=\"name\"\n              pattern=\"['a-zA-Z\\u0400-\\u04ff0-9\\s\\W+\\.]+\"\n              minLength=\"2\"\n              title=\"Name may contain only letters, apostrophe, dash, dots and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            />\n          </>\n        )}\n\n        <label htmlFor=\"email\">Email:</label>\n        <Field\n          type=\"email\"\n          name=\"email\"\n          pattern=\"^([^ ]+@[^ ]+\\.[a-z]{2,6}|)$\"\n          title=\"E-mail may contain only letters, digits, At sign and dot. For example JacobMercer2@gmail.com\"\n        />\n\n        <label htmlFor=\"password\">Password:</label>\n        <Field\n          type=\"password\"\n          name=\"password\"\n          pattern=\"['a-zA-Z\\d\\s\\W+\\.]+.\"\n          minLength=\"6\"\n          title=\"Password number may contain letters, digits, spaces and symbols\"\n        />\n        <div className={styles.form_btn_container}>\n          <Button onClick={dummyClick}>\n            {location.pathname === '/register' ? 'Sign Up' : 'Log In'}\n          </Button>\n        </div>\n      </Form>\n    </Formik>\n  );\n};\n\nCredentialForm.propTypes = {\n  loginHandler: PropTypes.func,\n  registerHandler: PropTypes.func,\n};\n","import toast from 'react-hot-toast';\nimport PropTypes from 'prop-types';\n\nconst ErrorMessage = ({ error, path }) => {\n  if (error.status === 400 && !error.data.message && path === '/login') {\n    console.log(error);\n    toast.error('E-mail and password not fit');\n    return;\n  }\n\n  if (error.data.code === 11000) {\n    console.log(error, 'error 11000');\n    toast.error('Your access denied');\n    return;\n  }\n\n  if (error.status === 400 && error.data.code !== 11000) {\n    toast.error('Fill all fields');\n    return;\n  }\n};\n\nErrorMessage.propTypes = {\n  path: PropTypes.string,\n  error: PropTypes.shape({\n    status: PropTypes.number,\n    data: PropTypes.object,\n  }),\n};\n\nexport default ErrorMessage;\n","import { useDispatch } from 'react-redux';\nimport { setToken } from 'redux/auth/tokenSlice';\nimport Loader from 'components/Loader/Loader';\nimport { CredentialForm } from 'components/CredentialForm/CredentialForm';\nimport { useLoginMutation } from 'redux/auth/authSlice';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const [login, { isLoading, error }] = useLoginMutation();\n\n  const loginHandler = async values => {\n    try {\n      await login(values).then(res => {\n        dispatch(setToken(res?.data?.token));\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <CredentialForm loginHandler={loginHandler} />\n      {error && <ErrorMessage error={error} path={'/login'} />}\n      {isLoading && <Loader />}\n    </>\n  );\n};\n\nexport default Login;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n"],"names":["initialValues","name","email","password","CredentialForm","loginHandler","registerHandler","location","useLocation","onSubmit","pathname","className","styles","htmlFor","type","pattern","minLength","title","Button","onClick","ErrorMessage","error","path","status","data","message","code","console","log","toast","propTypes","PropTypes","dispatch","useDispatch","useLoginMutation","login","isLoading","values","then","res","setToken","token","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","props","propName","componentName","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes"],"sourceRoot":""}