"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[562],{7562:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r,a=t(9439),o=t(5048),c=t(4808),i=t(6351),s="Filter_filter_label__5ITod",l="Filter_filter_input__eu2zm",u=t(3329),d=function(){var e=(0,o.I0)(),n=(0,o.v9)(i.AD);return(0,u.jsx)("label",{className:s,children:(0,u.jsx)("input",{className:l,type:"text",value:n,onChange:function(n){e((0,c.T)(n.target.value))},placeholder:"Find contacts by name"})})},m=t(3307),f=t(4164),h=t(2791),v="Modal_overlay__r63M6",p="Modal_modal__DJDMv",x=t(5861),_=t(7757),b=t.n(_),j=t(5705),w=t(2447),C=t(3402),g="ContactForm_form_phonebook__BVZ9W",y="ContactForm_form_add_container__CWKmD",k=t(1538),N=function(e){var n=e.onClose,t=e.contact,r={name:"",number:""};null!==t&&void 0!==t&&t.name?r.name=null===t||void 0===t?void 0:t.name:r.name="",null!==t&&void 0!==t&&t.number?r.number=null===t||void 0===t?void 0:t.number:r.number="";var o=(0,k.wY)().data,c=(0,k.Tn)(),i=(0,a.Z)(c,2),s=i[0],l=i[1].isLoading,d=(0,k.i)(),f=(0,a.Z)(d,2),h=f[0],v=f[1].isLoading,p=function(e){if(""===e.name.trim()||""===e.number.trim())return!0},_=function(){var e=(0,x.Z)(b().mark((function e(n,t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p(n)){e.next=3;break}return C.ZP.error("Fill all fields"),e.abrupt("return");case 3:if(!o.some((function(e){return(null===e||void 0===e?void 0:e.name.toLowerCase())===n.name.toLowerCase()}))){e.next=6;break}return C.ZP.error("".concat(n.name," is already in contacts.")),e.abrupt("return");case 6:return e.prev=6,e.next=9,s(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:return e.prev=14,t.resetForm(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[6,11,14,17]])})));return function(n,t){return e.apply(this,arguments)}}(),N=function(){var e=(0,x.Z)(b().mark((function e(r,a){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name!==r.name||t.number!==r.number){e.next=4;break}return a.resetForm(),n(),e.abrupt("return");case 4:if(!p(r)){e.next=7;break}return C.ZP.error("Fill all fields"),e.abrupt("return");case 7:return e.prev=7,e.next=10,h(t.id,r);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:return e.prev=15,a.resetForm(),n(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[7,12,15,19]])})));return function(n,t){return e.apply(this,arguments)}}();return(0,u.jsx)(j.J9,{initialValues:r,onSubmit:r.name?N:_,children:(0,u.jsxs)(j.l0,{className:g,children:[(0,u.jsxs)("div",{className:y,children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsx)(j.gN,{type:"text",name:"name",pattern:"['a-zA-Z\\u0400-\\u04ff0-9\\s\\W+\\.]+",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,u.jsx)("label",{htmlFor:"number",children:"Number"}),(0,u.jsx)(j.gN,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",maxLength:"19",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +. For example +38(050)-32-74-456"})]}),(0,u.jsx)(m.z,{onClick:function(){},children:"\u2714"}),(l||v)&&(0,u.jsx)(w.Z,{})]})})},F=document.querySelector("#modal-root"),Z=function(e){var n=e.onClose,t=e.contact;(0,h.useEffect)((function(){function e(e){"Escape"===e.code&&n()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,f.createPortal)((0,u.jsx)("div",{className:v,onClick:function(e){"DIV"===e.target.nodeName&&n()},children:(0,u.jsx)("div",{className:p,children:(0,u.jsx)(N,{onClose:n,contact:t})})}),F)},L=["title","titleId"];function O(){return O=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O.apply(this,arguments)}function z(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function E(e,n){var t=e.title,a=e.titleId,o=z(e,L);return h.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,ref:n,"aria-labelledby":a},o),t?h.createElement("title",{id:a},t):null,r||(r=h.createElement("path",{d:"M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z"})))}var M=h.forwardRef(E),P=(t.p,"ContactListItem_div__qiicF"),I=function(e){var n=e.contact,t=(0,k.Nt)(),r=(0,a.Z)(t,2),o=r[0],c=r[1].isLoading,i=(0,h.useState)(!1),s=(0,a.Z)(i,2),l=s[0],d=s[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:P,onClick:function(){return d(!0)},title:"Edit Contact",children:[n.name,": ",n.number]}),(0,u.jsx)(m.z,{onClick:function(){return o(n.id)},children:(0,u.jsx)(M,{})}),l&&(0,u.jsx)(Z,{onClose:function(){d((function(e){return!e}))},contact:n}),c&&(0,u.jsx)(w.Z,{})]})},D="ContactList_list_contacts__zCaQw",S="ContactList_item__EZYHO",A=t(3433),W=function(e){var n=(0,o.v9)(i.AD),t=(0,A.Z)(e).sort((function(e,n){return e.name.localeCompare(n.name)}));if(!n)return t;var r=n.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(r)}))},T=function(){var e=(0,k.wY)().data;return(0,u.jsx)("ul",{className:D,children:W(e).map((function(n){return(0,u.jsx)("li",{className:S,children:e&&(0,u.jsx)(I,{contact:n})},n.id)}))})},Y="Contacts_contact_page_container__qnWTo",q="Contacts_contacts_container__RWGmt",J=function(){var e=(0,k.wY)().data,n=(0,h.useState)(!1),t=(0,a.Z)(n,2),r=t[0],o=t[1];return(0,u.jsx)(u.Fragment,{children:e&&(0,u.jsxs)("div",{className:q,children:[(0,u.jsxs)("div",{className:Y,children:[(0,u.jsx)(d,{}),(0,u.jsx)(m.z,{onClick:function(){return o(!0)},children:"+"})]}),(0,u.jsx)(T,{}),r&&(0,u.jsx)(Z,{onClose:function(){o((function(e){return!e}))}})]})})}}}]);
//# sourceMappingURL=562.3c87a341.chunk.js.map