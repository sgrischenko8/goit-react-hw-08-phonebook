"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[562],{7562:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r,a=t(9439),o=t(5048),c=t(4808),i=t(6351),s="Filter_filter_label__5ITod",l="Filter_filter_input__eu2zm",u=t(3329),m=function(){var e=(0,o.I0)(),n=(0,o.v9)(i.AD);return(0,u.jsx)("label",{className:s,children:(0,u.jsx)("input",{className:l,type:"text",value:n,onChange:function(n){e((0,c.T)(n.target.value))},placeholder:"Find contacts by name"})})},d=t(3307),f=t(4164),h=t(2791),v="Modal_overlay__r63M6",p="Modal_modal__DJDMv",_=t(5861),x=t(7757),b=t.n(x),j=t(5705),w=t(2447),C=t(3402),g="ContactForm_form_phonebook__BVZ9W",k="ContactForm_form_phonebook_light__xHRLI",y="ContactForm_form_add_container__CWKmD",N=t(1538),F=function(e){var n=e.onClose,t=e.contact,r={name:"",number:""};null!==t&&void 0!==t&&t.name?r.name=null===t||void 0===t?void 0:t.name:r.name="",null!==t&&void 0!==t&&t.number?r.number=null===t||void 0===t?void 0:t.number:r.number="";var c=(0,o.v9)(i.Pu),s=(0,N.wY)().data,l=(0,N.Tn)(),m=(0,a.Z)(l,2),f=m[0],h=m[1].isLoading,v=(0,N.i)(),p=(0,a.Z)(v,2),x=p[0],F=p[1].isLoading,Z=function(e){if(""===e.name.trim()||""===e.number.trim())return!0},L=function(){var e=(0,_.Z)(b().mark((function e(t,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z(t)){e.next=3;break}return C.ZP.error("Fill all fields"),e.abrupt("return");case 3:if(!s.some((function(e){return(null===e||void 0===e?void 0:e.name.toLowerCase())===t.name.toLowerCase()}))){e.next=6;break}return C.ZP.error("".concat(t.name," is already in contacts.")),e.abrupt("return");case 6:return e.prev=6,e.next=9,f(t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:return e.prev=14,r.resetForm(),n(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[6,11,14,18]])})));return function(n,t){return e.apply(this,arguments)}}(),O=function(){var e=(0,_.Z)(b().mark((function e(r,a){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name!==r.name||t.number!==r.number){e.next=4;break}return a.resetForm(),n(),e.abrupt("return");case 4:if(!Z(r)){e.next=7;break}return C.ZP.error("Fill all fields"),e.abrupt("return");case 7:return e.prev=7,e.next=10,x(t.id,r);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:return e.prev=15,a.resetForm(),n(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[7,12,15,19]])})));return function(n,t){return e.apply(this,arguments)}}();return(0,u.jsx)(j.J9,{initialValues:r,onSubmit:r.name?O:L,children:(0,u.jsxs)(j.l0,{className:"light"===c?k:g,children:[(0,u.jsxs)("div",{className:y,children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsx)(j.gN,{type:"text",name:"name",pattern:"['a-zA-Z\\u0400-\\u04ff0-9\\s\\W+\\.]+",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,u.jsx)("label",{htmlFor:"number",children:"Number"}),(0,u.jsx)(j.gN,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",maxLength:"19",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +. For example +38(050)-32-74-456"})]}),(0,u.jsx)(d.z,{onClick:function(){},children:"\u2714"}),(h||F)&&(0,u.jsx)(w.Z,{})]})})},Z=document.querySelector("#modal-root"),L=function(e){var n=e.onClose,t=e.contact;(0,h.useEffect)((function(){function e(e){"Escape"===e.code&&n()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,f.createPortal)((0,u.jsx)("div",{className:v,onClick:function(e){"DIV"===e.target.nodeName&&n()},children:(0,u.jsx)("div",{className:p,children:(0,u.jsx)(F,{onClose:n,contact:t})})}),Z)},O=["title","titleId"];function z(){return z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},z.apply(this,arguments)}function E(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function P(e,n){var t=e.title,a=e.titleId,o=E(e,O);return h.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,ref:n,"aria-labelledby":a},o),t?h.createElement("title",{id:a},t):null,r||(r=h.createElement("path",{d:"M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z"})))}var I=h.forwardRef(P),M=(t.p,"ContactListItem_contact_info__01Dvf"),D=function(e){var n=e.contact,t=(0,N.Nt)(),r=(0,a.Z)(t,2),o=r[0],c=r[1].isLoading,i=(0,h.useState)(!1),s=(0,a.Z)(i,2),l=s[0],m=s[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{className:M,onClick:function(){return m(!0)},title:"Edit Contact",children:[n.name,": ",n.number]}),(0,u.jsx)(d.z,{onClick:function(){return o(n.id)},children:(0,u.jsx)(I,{})}),l&&(0,u.jsx)(L,{onClose:function(){m((function(e){return!e}))},contact:n}),c&&(0,u.jsx)(w.Z,{})]})},S="ContactList_list_contacts__zCaQw",A="ContactList_item__EZYHO",W=t(3433),T=function(e){var n=(0,o.v9)(i.AD),t=(0,W.Z)(e).sort((function(e,n){return e.name.localeCompare(n.name)}));if(!n)return t;var r=n.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(r)}))},Y=function(){var e=(0,N.wY)().data;return(0,u.jsx)("ul",{className:S,children:T(e).map((function(n){return(0,u.jsx)("li",{className:A,children:e&&(0,u.jsx)(D,{contact:n})},n.id)}))})},J="Contacts_contact_page_container__qnWTo",R="Contacts_contacts_container__RWGmt",V=function(){var e=(0,N.wY)().data,n=(0,h.useState)(!1),t=(0,a.Z)(n,2),r=t[0],o=t[1];return(0,u.jsx)(u.Fragment,{children:e&&(0,u.jsxs)("div",{className:R,children:[(0,u.jsxs)("div",{className:J,children:[(null===e||void 0===e?void 0:e.length)>0&&(0,u.jsx)(m,{}),(0,u.jsx)(d.z,{onClick:function(){return o(!0)},children:"+"})]}),(0,u.jsx)(Y,{}),r&&(0,u.jsx)(L,{onClose:function(){o((function(e){return!e}))}})]})})}}}]);
//# sourceMappingURL=562.7b0bc7d7.chunk.js.map